<div class="report-form">
  <h2>Report an Incident</h2>

  <div class="form-group">
    <label>Location:</label>
    <button (click)="getLocation()">Use my location</button>
    <p *ngIf="incident.latitude && incident.longitude">
      Selected: {{ incident.latitude }}, {{ incident.longitude }}
    </p>
  </div>
  <div class="form-group">
    <label>Incident Type:</label>
    <select [(ngModel)]="incident.type">
      <option value="">-- select type --</option>
      <option value="traffic">Traffic</option>
      <option value="utility">Utility</option>
      <option value="safety">Safety</option>
    </select>
  </div>

  <div class="form-group">
    <label>Subtype:</label>
    <select [(ngModel)]="incident.subtype">
      <option value="">-- select subtype --</option>
      <option *ngIf="incident.type==='traffic'" value="accident">Accident</option>
      <option *ngIf="incident.type==='traffic'" value="jam">Traffic jam</option>
      <option *ngIf="incident.type==='utility'" value="water">Water outage</option>
      <option *ngIf="incident.type==='safety'" value="fire">Fire</option>
    </select>
  </div>

  <div class="form-group">
    <label>Description:</label>
    <textarea [(ngModel)]="incident.description"></textarea>
  </div>

  <div class="form-group">
    <label>Attach Image:</label>
    <input type="file" (change)="onFileSelected($event)" />
  </div>

  <button (click)="submitReport()">Submit</button>
</div>
